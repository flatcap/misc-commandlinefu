<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Strict//EN'
    'http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en' lang='en'>
  <head>
    <link rel='stylesheet' href='style.css' type='text/css' />
    <title>
      command line fu
    </title>
  </head>
  <body>
    <div class='terminal'>
      <div class='author'>
        Flameeyes
      </div>
      <div class='summary'>
        Print stack trace of a core file without needing to enter gdb interactively
      </div>
      <div class='command'>
        gdb --batch --quiet -ex "thread apply all bt full" -ex "quit" ${exe} ${corefile}
      </div>
      <div class='desc'>
        <p>
          This does almost the same thing as the original, but it runs the full backtrace for _all_ the threads, which is pretty important when reporting a crash for a multithreaded software, since more often than not, the signal handler is executed in a different thread than the crash happened.
        </p>
      </div>
    </div>
    <div class='terminal'>
      <div class='author'>
        kurt
      </div>
      <div class='summary'>
        <a href="/commands/view/7500/run-a-program-transparently-but-print-a-stack-trace-if-it-fails" title="Find out what others think of this command">Run a program transparently, but print a stack trace if it fails</a>
      </div>
      <div class='command'>
        gdb -batch -ex "run" -ex "bt" ${my_program} 2&gt;&amp;1 | grep -v ^"No stack."$
      </div>
      <div class='sample'>
        <pre>
Should be identical to what ${my_program} normally generates, unless ${my_program} crashes, in which case it ends with a stack trace.
</pre>
      </div>
      <div class='desc'>
        <p>
          For automated unit tests I wanted my program to run normally, but if it crashed, to add a stack trace to the output log. I came up with this command so I wouldn't have to mess around with core files.
        </p>
        <p>
          The one downside is that it does smoosh your program's stderr and stdout together.
        </p>
      </div>
    </div>
    <div class='terminal'>
      <div class='author'>
        TeacherTiger
      </div>
      <div class='summary'>
        <a href="/commands/view/4039/print-stack-trace-of-a-core-file-without-needing-to-enter-gdb-interactively" title="Find out what others think of this command">Print stack trace of a core file without needing to enter gdb interactively</a>
      </div>
      <div class='command'>
        alias gdbbt="gdb -q -n -ex bt -batch"
      </div>
      <div class='desc'>
        <p>
          The pstack command prints a stack trace of running processes without needing to attach a debugger, but what about core files? The answer, of course, is to use this command. Usage: gdbbt program corefile
        </p>
      </div>
    </div>
  </body>
</html>
