<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Strict//EN'
    'http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en' lang='en'>
  <head>
    <link rel='stylesheet' href='style.css' type='text/css' />
    <title>
      command line fu
    </title>
  </head>
  <body>
    <div class='terminal'>
      <div class='author'>
        RanyAlbeg
      </div>
      <div class='summary'>
        Rename all files which contain the sub-string 'foo', replacing it with 'bar'
      </div>
      <div class='command'>
        for i in ./*foo*;do mv -- "$i" "${i//foo/bar}";done
      </div>
      <div class='sample'>
        <pre>
Come on...
</pre>
      </div>
      <div class='desc'>
        <p>
          That is an alternative to command 8368.
        </p>
        <p>
          Command 8368 is EXTREMELY NOT clever.
        </p>
        <p>
          1) Will break also for files with spaces AND new lines in them AND for an empty expansion of the glob '*'
        </p>
        <p>
          2) For making such a simple task it uses two pipes, thus forking.
        </p>
        <p>
          3) xargs(1) is dangerous (broken) when processing filenames that are not NUL-terminated.
        </p>
        <p>
          4) ls shows you a representation of files. They are NOT file names (for simple names, they mostly happen to be equivalent). Do NOT try to parse it.
        </p>
        <p>
          Why? see this :<a href="http://mywiki.wooledge.org/ParsingLs" rel="nofollow">http://mywiki.wooledge.org/ParsingLs</a>
        </p>
        <p>
          Recursive version:
        </p><code>find . -depth -name "*foo*" -exec bash -c 'for f; do base=${f##*/}; mv -- "$f" "${f%/*}/${base//foo/bar}"; done' _ {} +</code>
      </div>
    </div>
    <div class='terminal'>
      <div class='author'>
        windfold
      </div>
      <div class='summary'>
        <a href="/commands/view/8368/bulk-rename-files-with-sed-one-liner" title="Find out what others think of this command">bulk rename files with sed, one-liner</a>
      </div>
      <div class='command'>
        ls * | sed -e 'p;s/foo/bar/' | xargs -n2 mv
      </div>
      <div class='desc'>
        <p>
          Renames all files in a directory named foo to bar.
        </p>
        <p>
          foobar1 gets renamed to barbar1
        </p>
        <p>
          barfoo2 gets renamed to barbar2
        </p>
        <p>
          fooobarfoo gets renamed to barobarfoo
        </p>
        <p>
          NOTE: Will break for files with spaces AND new lines AND for an empty expansion of the glob '*'
        </p>
      </div>
    </div>
    <div class='terminal'>
      <div class='author'>
        roland_tarver
      </div>
      <div class='summary'>
        <a href="/commands/view/8381/rename-all-files-which-contain-the-sub-string-foo-replacing-it-with-bar" title="Find out what others think of this command">Rename all files which contain the sub-string 'foo', replacing it with 'bar'</a>
      </div>
      <div class='command'>
        rename 's/foo/bar/g' ./*
      </div>
      <div class='sample'>
        <pre>
$ ls
thisFileIsCalledDAVE

$ rename 's/DAVE/PETE/g' ./*

$ ls
thisFileIsCalledPETE
</pre>
      </div>
      <div class='desc'>
        <p>
          Would this command line achieve the desired function? My CLI knowledge is not great so this could certainly be wrong. It is merely a suggestion for more experienced uses to critique. Best wishes roly :-)
        </p>
      </div>
    </div>
    <div class='terminal'>
      <div class='author'>
        uwe
      </div>
      <div class='summary'>
        <a href="/commands/view/8370/bulk-rename-files-with-sed-one-liner" title="Find out what others think of this command">bulk rename files with sed, one-liner</a>
      </div>
      <div class='command'>
        for f in *; do mv "$f" "${f/foo/bar}"; done
      </div>
      <div class='desc'>
        <p>
          without sed, but has no problems with files with spaces or other critical characters
        </p>
      </div>
    </div>
    <div class='terminal'>
      <div class='author'>
        pkufranky
      </div>
      <div class='summary'>
        <a href="/commands/view/8371/bulk-rename-files-with-sed-one-liner" title="Find out what others think of this command">bulk rename files with sed, one-liner</a>
      </div>
      <div class='command'>
        ls | sed 'p;s/foo/bar/' | xargs -n2 mv
      </div>
    </div>
    <div class='terminal'>
      <div class='author'>
        hexram
      </div>
      <div class='summary'>
        <a href="/commands/view/8409/rename-all-files-which-contain-the-sub-string-foo-replacing-it-with-bar" title="Find out what others think of this command">Rename all files which contain the sub-string 'foo', replacing it with 'bar'</a>
      </div>
      <div class='command'>
        rename foo bar directory/filename
      </div>
      <div class='sample'>
        <pre>
$ ls -aF
... many filenames ...
.xsession-errors.old
$ rename old vetust ./.*.*
$ ls -aF
... many filenames ...
.xsession-errors.vetust
</pre>
      </div>
      <div class='desc'>
        <p>
          rename command in my system -Fuduntu running 2.6.38 Linux Kernel- is an ELF 64-bit LSB executable, not a Perl script. man page for rename command shows syntax as "rename from to where" (or something like that), so I am doing just what I have been told...
        </p>
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        eightmillion
      </div>
      <div class='text'>
        <p>
          Just because a command has problems doesn't mean it's not clever.
        </p>
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        RanyAlbeg
      </div>
      <div class='text'>
        <p>
          I can see what you mean, but I disagree.
        </p>
        <p>
          Your clever is, by my terms, useless complexity.
        </p>
        <p>
          In fact, a properly constructed command is less complex.
        </p>
        <p>
          ls,sed and xargs does not indicate about anything but a waste of resources which is also dangerous.
        </p>
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        windfold
      </div>
      <div class='text'>
        <p>
          Hey If you're going to hate why don't you put the hate where it belongs: In the comments of my command instead of marring the beauty of your command?
        </p>
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        windfold
      </div>
      <div class='text'>
        <p>
          Acutally, I take it back this command is better:
        </p>
        <p>
          <a href="http://www.commandlinefu.com/commands/view/8370/bulk-rename-files-with-sed-one-liner" rel="nofollow">http://www.commandlinefu.com/commands/view/8370/bulk-rename-files-with-sed-one-liner</a>
        </p>
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        unixmonkey24656
      </div>
      <div class='text'>
        <code>rename</code>
        <p>
          you want the version by Larry Wall, comes installed with Ubuntu.
        </p>
      </div>
    </div>
  </body>
</html>
