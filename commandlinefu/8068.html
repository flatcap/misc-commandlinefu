<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Strict//EN'
    'http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en' lang='en'>
  <head>
    <link rel='stylesheet' href='style.css' type='text/css' />
    <title>
      command line fu
    </title>
  </head>
  <body>
    <div class='terminal'>
      <div class='author'>
        greggster
      </div>
      <div class='summary'>
        Deal with dot files safely
      </div>
      <div class='command'>
        rm -rf .??*
      </div>
      <div class='sample'>
        <pre>
[root@centos CRM]# ls -al
total 40
drwxrwxr-x  3 gregg gregg 4096 Mar 10 22:59 .
drwxr-xr-x 29 gregg gregg 4096 Mar 10 22:59 ..
-rw-rw-r--  1 gregg gregg   28 Nov 24  2008 .cvsignore
-rw-rw-r--  1 gregg gregg  146 Nov 25  2008 .htaccess
drwxrwxr-x  6 gregg gregg 4096 Nov 24  2008 .svn
[root@centos CRM]# mv .??* ../
[root@centos CRM]# ls -al
total 16
drwxrwxr-x  2 gregg gregg 4096 Mar 10 22:59 .
drwxr-xr-x 30 gregg gregg 4096 Mar 10 22:59 ..
</pre>
      </div>
      <div class='desc'>
        <p>
          rm -rf .* matches ".." and thus one goes up a level and wipes out more than intended.
        </p>
        <p>
          In bash, .??* safely accomplishes what one intends - remove those .files
        </p>
        <p>
          The ? matches most characters except "/", thus .?? does not match ../ and so one is safe.
        </p>
      </div>
    </div>
    <div class='terminal'>
      <div class='author'>
        RanyAlbeg
      </div>
      <div class='summary'>
        <a href="/commands/view/8082/deal-with-dot-files-safely" title="Find out what others think of this command">Deal with dot files safely</a>
      </div>
      <div class='command'>
        rm -r .[!.]*
      </div>
    </div>
    <div class='terminal'>
      <div class='author'>
        Natureshadow
      </div>
      <div class='summary'>
        <a href="/commands/view/8069/deal-with-dot-files-safely" title="Find out what others think of this command">Deal with dot files safely</a>
      </div>
      <div class='command'>
        rm -rf .[!.]*
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        Natureshadow
      </div>
      <div class='text'>
        <p>
          .??* does not match .a, .b, ...
        </p>
        <p>
          .[!.]* does.
        </p>
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        Natureshadow
      </div>
      <div class='text'>
        <p>
          .??* does not match .a, .b, ...
        </p>
        <p>
          .[!.]* does.
        </p>
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        hdhoang
      </div>
      <div class='text'>
        <p>
          man bash discusses GLOBIGNORE which does this, but I can't wrap my head around the logic. GLOBIGNORE=.:.. seems to DTRT:
        </p><code>ls .* -d</code>
        <p>
          . .. .keep
        </p><code>GLOBIGNORE=.:..</code> <code>ls .* -d</code>
        <p>
          .keep
        </p>
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        flatcap
      </div>
      <div class='text'>
        <p>
          @greggster: gnu rm complains, but it won't allow me to remove ..
        </p>
        <p>
          What version of rm do you have where .* can equate to ../*
        </p>
        <p>
          @NatureShadow: very nice
        </p>
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        greggster
      </div>
      <div class='text'>
        <p>
          The shell expands ".*" before its passed to the rm command. What shell are you using? echo $SHELL should display it.
        </p>
      </div>
    </div>
  </body>
</html>
