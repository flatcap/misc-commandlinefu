<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Strict//EN'
    'http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en' lang='en'>
  <head>
    <link rel='stylesheet' href='style.css' type='text/css' />
    <title>
      command line fu
    </title>
  </head>
  <body>
    <div class='terminal'>
      <div class='author'>
        totti
      </div>
      <div class='summary'>
        Access variables inside a - piped while - loop
      </div>
      <div class='command'>
        while read line; do echo $line; done &lt;&lt;&lt; "$var"
      </div>
      <div class='sample'>
        <pre>
script 1
__________________
#!/bin/bash

var="nullll"
echo "var=$var"
echo
str="aa
bb
cc"

echo "$str" | while read line
do
echo "line=$line"
echo "var=$var"
var="whillleeee"

done 

echo
echo "line=$line"
echo "var=$var"



------------------------------
Output
----------------------------
var=nullll

line=aa
var=nullll
line=bb
var=whillleeee
line=cc
var=whillleeee

var=nullll
___________________________________________________________
script 2---------------------------------------------------
___________________________________________________________

#!/bin/bash

var="nullll"
echo "var=$var"
echo
str="aa
bb
cc"

while read line
do
echo "line=$line"
echo "var=$var"
var="whillleeee"

done &lt;&lt;&lt; "$str"

echo
echo "var=$var"

----------------------------------
Output
------------------------------------

var=nullll

line=aa
var=nullll
line=bb
var=whillleeee
line=cc
var=whillleeee

var=whillleeee
</pre>
      </div>
      <div class='desc'>
        <p>
          [--My previous cmd has failed to express what i mean. I will delete that one later.--]
        </p>
        <p>
          Consider the following simple situation [ reading something using while and read ]
        </p>
        <p>
          [See script 1 in sample output]
        </p>
        <p>
          ---------------------------------------------------
        </p>
        <p>
          The variable var is assigned with "nullll" at first. Inside the while loop [piped while] it is assigned with "whillleeee". [Onlly 2 assignments stmts]. Outside the loop the last assigned value for "var" [and no variable] inside the while can't be accessed [Due to pipe, var is executed in a sub shell].
        </p>
        <p>
          In these type of situation variables can be accessed by modifying as follows.
        </p>
        <p>
          [See script 2 in sample output]
        </p>
        <p>
          ___________________________
        </p>
        <p>
          Vary helpful when reading a set of items, say file names, stored on a file [or variable] to an array an use it later.
        </p>
        <p>
          Is there any other way 2 access variables inside and outside the loop ??
        </p>
      </div>
    </div>
  </body>
</html>
