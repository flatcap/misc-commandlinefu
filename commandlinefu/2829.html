<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Strict//EN'
    'http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en' lang='en'>
  <head>
    <link rel='stylesheet' href='style.css' type='text/css' />
    <title>
      command line fu
    </title>
  </head>
  <body>
    <div class='terminal'>
      <div class='author'>
        drizzt
      </div>
      <div class='summary'>
        Query Wikipedia via console over DNS
      </div>
      <div class='command'>
        dig +short txt <span>&lt;keyword&gt;</span>.wp.dg.cx
      </div>
      <div class='sample'>
        <pre>
$ dig +short txt unix.wp.dg.cx
"Unix (officially trademarked as UNIX, sometimes also written as Unix with small caps) is a computer operating system originally developed in 1969 by a group of AT&amp;T employees at Bell Labs, including Ken Thompson, Dennis Ritchie, Douglas McIlroy, and Joe O" "ssanna. Today's Unix systems are split into various branches, developed over time by AT&amp;T as well as various commercial... http://a.vu/w:Unix"
</pre>
      </div>
      <div class='desc'>
        <p>
          Query Wikipedia by issuing a DNS query for a TXT record. The TXT record will also include a short URL to the complete corresponding Wikipedia entry.You can also write a little shell script like:
        </p><code>$ cat wikisole.sh</code> <code>#!/bin/sh</code> <code>dig +short txt ${1}.wp.dg.cx</code>
        <p>
          and run it like
        </p><code>./wikisole.sh unix</code>
        <p>
          were your first option ($1) will be used as search term.
        </p>
      </div>
    </div>
    <div class='terminal'>
      <div class='author'>
        oshazard
      </div>
      <div class='summary'>
        <a href="/commands/view/4591/query-wikipedia-via-console-over-dns" title="Find out what others think of this command">Query Wikipedia via console over DNS</a>
      </div>
      <div class='command'>
        mwiki () { blah=`echo $@ | sed -e 's/ /_/g'`; dig +short txt $blah.wp.dg.cx; }
      </div>
    </div>
    <div class='terminal'>
      <div class='author'>
        dorin
      </div>
      <div class='summary'>
        <a href="/commands/view/5187/query-wikipedia-via-console-over-dns" title="Find out what others think of this command">Query Wikipedia via console over DNS</a>
      </div>
      <div class='command'>
        mwiki() { dig +short txt "$*".wp.dg.cx; }
      </div>
      <div class='sample'>
        <pre>
$ mwiki Richard Stallman
"Richard Matthew Stallman (born March 16, 1953), often abbreviated \"rms\", is an American software freedom activist, hacker, and software developer. http://en.wikipedia.org/wiki/Richard_Stallman"
</pre>
      </div>
      <div class='desc'>
        <p>
          Shorter version, works with multiple words.
        </p>
      </div>
    </div>
    <div class='terminal'>
      <div class='author'>
        bandie91
      </div>
      <div class='summary'>
        <a href="/commands/view/5514/query-wikipedia-via-console-over-dns" title="Find out what others think of this command">Query Wikipedia via console over DNS</a>
      </div>
      <div class='command'>
        nslookup -q=txt <span>&lt;topic&gt;</span>.wp.dg.cx
      </div>
    </div>
    <div class='terminal'>
      <div class='author'>
        vjt
      </div>
      <div class='summary'>
        <a href="/commands/view/7772/query-wikipedia-via-console-over-dns" title="Find out what others think of this command">Query Wikipedia via console over DNS</a>
      </div>
      <div class='command'>
        mwiki () { dig +short txt `echo $*|sed 's| *|_|g'`.wp.dg.cx; }
      </div>
    </div>
    <div class='terminal'>
      <div class='author'>
        RanyAlbeg
      </div>
      <div class='summary'>
        <a href="/commands/view/9293/query-wikipedia-over-dns" title="Find out what others think of this command">Query wikipedia over DNS</a>
      </div>
      <div class='command'>
        wiki() { local IFS=_; dig +short txt "${*^}".wp.dg.cx; }
      </div>
      <div class='sample'>
        <pre>
rany:~$ wiki richard stallman
"Richard Matthew Stallman (born March 16, 1953), often abbreviated \"rms\", is an American software freedom activist, hacker, and software developer. http://en.wikipedia.org/wiki/Richard_Stallman"
rany:~$ wiki bourne again shell
"Bash is a free software Unix shell written for the GNU Project. Its name is an acronym which stands for Bourne-again shell. The name is a pun on the name of the Bourne shell (sh), an early and important Unix shell written by Stephen Bourne and distributed" " with Version 7 Unix circa 1978, and the concept of being \"born again\". Bash was created in 1987 by Brian Fox... http://a.vu/w:Bash"
rany:~$
</pre>
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        unixx
      </div>
      <div class='text'>
        <p>
          this is awesomely wacky
        </p>
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        Alanceil
      </div>
      <div class='text'>
        <p>
          Vote this up. One can feel the awesome behind this command :-)
        </p>
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        penpen
      </div>
      <div class='text'>
        <p>
          cute DNS abuse :)
        </p>
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        qubyte
      </div>
      <div class='text'>
        <p>
          Very very cool.
        </p>
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        hemanth
      </div>
      <div class='text'>
        <p>
          We can add some GUI spice to teh absue :P , dep==&gt; zenity
        </p>
        <p>
          zenity --info --text="$(dig +short txt $(zenity --entry --title="Search wiki" --text="Enter your search word:").wp.dg.cx)"
        </p>
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        zombiedeity
      </div>
      <div class='text'>
        <p>
          This is simply awesome. In the shell script example, add quotes around the "${1}" and you can do multi-word searches using quotes in your arg, like:
        </p><code>./wikip.sh "gradient descent"</code>
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        philipsd6
      </div>
      <div class='text'>
        <p>
          Script with prettified output:
        </p><code>cat wikisole.sh</code>
        <p>
          #!/bin/sh
        </p>
        <p>
          COLUMNS=`tput cols`
        </p>
        <p>
          dig +short txt "${1}".wp.dg.cx | sed -e 's/" "//g' -e 's/^"//g' -e 's/"$//g' -e 's/ http:/\n\nhttp:/' | fmt -w $COLUMNS
        </p>
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        bstaz
      </div>
      <div class='text'>
        <p>
          philipsd6's version as a function in bashrc:
        </p>
        <p>
          function wiki () {
        </p>
        <p>
          COLUMNS=`tput cols`
        </p>
        <p>
          dig +short txt ${1}.wp.dg.cx | sed -e 's/" "//g' -e 's/^"//g' -e 's/"$//g' -e 's/ http:/\n\nhttp:/' | fmt -w $COLUMNS
        </p>
        <p>
          }
        </p>
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        omish_man
      </div>
      <div class='text'>
        <p>
          You can also search for more than one word like this:
        </p><code>dig +short txt "multiple words".wp.dg.cx</code>
        <p>
          I wrote a wrapper script that takes either 1 word or multiple words and formulates the syntax properly:
        </p>
        <p>
          #!/bin/bash
        </p>
        <p>
          function help {
        </p>
        <p>
          echo -e "\n\tusage: $0 "
        </p>
        <p>
          exit
        </p>
        <p>
          }
        </p>
        <p>
          if [ -z "$1" ]; then
        </p>
        <p>
          help
        </p>
        <p>
          fi
        </p>
        <p>
          while [ "$1" != "" ]; do
        </p>
        <p>
          if [ "$SEARCH" = "" ]; then
        </p>
        <p>
          SEARCH="$1"
        </p>
        <p>
          else
        </p>
        <p>
          SEARCH="$SEARCH $1"
        </p>
        <p>
          fi
        </p>
        <p>
          shift
        </p>
        <p>
          done
        </p>
        <p>
          echo -e "\n\tLooking up $SEARCH\n"
        </p>
        <p>
          dig +short txt "$SEARCH".wp.dg.cx
        </p>
        <p>
          echo ""
        </p>
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        vutcovici
      </div>
      <div class='text'>
        <p>
          I hate dig.
        </p>
        <p>
          Why not use:
        </p><code>host -t txt linux.wp.dg.cx</code>
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        peter0081
      </div>
      <div class='text'>
        <p>
          Simpler multiple words fix:
        </p>
        <p>
          dig +short txt "`echo $@`".wp.dg.cx
        </p>
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        matthewbauer
      </div>
      <div class='text'>
        <code>dig +short txt &lt;keyword&gt;.wp.dg.cx | espeak</code>
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        sputnick
      </div>
      <div class='text'>
        <p>
          I wonder if we can do that with French language ( fr.wikipedia.org )
        </p>
        <p>
          Like with this example : fr.wikipedia.org/wiki/Tse
        </p>
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        sputnick
      </div>
      <div class='text'>
        <p>
          OOps, <a href="http://fr.wikipedia.org/wiki/Services_de_terminal" rel="nofollow">http://fr.wikipedia.org/wiki/Services_de_terminal</a>
        </p>
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        oshazard
      </div>
      <div class='text'>
        <code>mwiki () { echo $@ &gt; foo; blah=`sed 's/ /_/g' foo`; dig +short txt $blah.wp.dg.cx; }</code>
        <p>
          Sample output:
        </p><code>mwiki snow leopard</code>
        <p>
          "The snow leopard (Uncia uncia or Panthera uncia), sometimes known as \"ounce,\" is a moderately large cat native to the mountain ranges of Central Asia. The classification of this species has been subject to change and its exact taxonomic position is still " "unclear.
        </p>
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        ethnopunk
      </div>
      <div class='text'>
        <p>
          #! /bin/bash
        </p>
        <p>
          echo please input your subject
        </p>
        <p>
          read SUBJECT
        </p>
        <p>
          dig +short txt SUBJECT.wp.dg.cx
        </p>
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        dorin
      </div>
      <div class='text'>
        <p>
          Shorter version, works with multiple words:
        </p>
        <p>
          mwiki() { dig +short txt "$*".wp.dg.cx; }
        </p>
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        unixmonkey9108
      </div>
      <div class='text'>
        <p>
          on windows:
        </p><code>nslookup -q=txt shit.wp.dg.cx</code>
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        bugmenot
      </div>
      <div class='text'>
        <p>
          "slookup -q=txt" does not appear to be valid (i have WinXP+SP3)...
        </p>
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        bugmenot
      </div>
      <div class='text'>
        <p>
          sorry, in mean "Nslookup -q=txt"...
        </p>
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        unixmonkey12820
      </div>
      <div class='text'>
        <p>
          Nice. These dns lookups seems faster than an actual http request.
        </p>
        <p>
          But I don't like the disturbing " and \ and the missing linebreaks. Therefore by combining dorin's ID with a sed and fmt I get to:
        </p><code>mwiki() { dig +short txt $(echo $* | sed 's/ /_/g').wp.dg.cx|sed -E "s/\" \"|^\"|\"$|\\\\//g"|fmt; }</code>
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        rubo77
      </div>
      <div class='text'>
        <p>
          what do you need this for?
        </p>
        <p>
          has it some advantages to to such a query over DNS?
        </p>
        <p>
          why can't you use curl instead?
        </p>
      </div>
    </div>
  </body>
</html>
