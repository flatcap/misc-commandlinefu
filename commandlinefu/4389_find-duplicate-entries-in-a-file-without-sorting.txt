Remove duplicate entries in a file without sorting.

Terminal - Remove duplicate entries in a file without sorting.
awk '!x[$0]++' <file>

User: din7
Remove duplicate entries in a file without sorting.

Using awk, find duplicates in a file without sorting, which reorders the
contents. awk will not reorder them, and still find and remove duplicates
which you can then redirect into another file.



awk '!x[$0]++' FILE

User: cfajohnson
delete duplicate lines from a file and keep the order of the other lines

sort | uniq

OR

sort -u

Comment by KevinM 42 weeks and 2 days ago

Yes, but that sorts all the rest of the data in as well. awk will leave
the rest of the data alone.

Comment by din7 42 weeks and 2 days ago

It's very clever, din7, but you need to describe it better. It doesn't
FIND the duplicates in a file, it REMOVES them.

Comment by flatcap 42 weeks and 1 day ago

I generally pass stdout to this command then redirect into another file so
I can just see duplicates. The command above is in its original context.
Even so, having used this several times in its original context I haven't
seen where it actually removes duplicates without further modification. It
seems to me that it just prints the duplicates.

Comment by din7 42 weeks and 1 day ago

It prints the lines that aren't duplicated, too. That's why what it's
doing is removing the duplicates.

echo -e "aaa\nbbb\naaa"|awk \!'x[$0]++'

outputs

aaa

bbb

not just "aaa"

Comment by dennisw 42 weeks ago

I see what you mean now.

Comment by din7 42 weeks ago

I thought flatcap was saying that it modifies the file when the command is
executed.

Comment by din7 42 weeks ago

