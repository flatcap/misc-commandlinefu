<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Strict//EN'
    'http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en' lang='en'>
  <head>
    <link rel='stylesheet' href='style.css' type='text/css' />
    <title>
      command line fu
    </title>
  </head>
  <body>
    <div class='terminal'>
      <div class='author'>
        tkunz
      </div>
      <div class='summary'>
        Test your total disk IO capacity, regardless of caching, to find out how fast the TRUE speed of your disks are
      </div>
      <div class='command'>
        time (dd if=/dev/zero of=blah.out bs=256M count=1 ; sync )
      </div>
      <div class='sample'>
        <pre>
1+0 records in
1+0 records out
268435456 bytes (268 MB) copied, 1.50648 seconds, 178 MB/s

real    0m7.119s
user    0m0.002s
sys     0m0.649s
</pre>
      </div>
      <div class='desc'>
        <p>
          Depending on the speed of you system, amount of RAM, and amount of free disk space, you can find out practically how fast your disks really are. When it completes, take the number of MB copied, and divide by the line showing the "real" number of seconds. In the sample output, the cached value shows a write speed of 178MB/s, which is unrealistic, while the calculated value using the output and the number of seconds shows it to be more like 35MB/s, which is feasible.
        </p>
      </div>
    </div>
    <div class='terminal'>
      <div class='author'>
        olorin
      </div>
      <div class='summary'>
        <a href="/commands/view/2661/test-your-total-disk-io-capacity-regardless-of-caching-to-find-out-how-fast-the-true-speed-of-your-disks-are" title="Find out what others think of this command">Test your total disk IO capacity, regardless of caching, to find out how fast the TRUE speed of your disks are</a>
      </div>
      <div class='command'>
        time dd if=/dev/zero of=blah.out oflag=direct bs=256M count=1
      </div>
      <div class='desc'>
        <p>
          Let dd use direct I/O to write directly to the disk without any caching. You'll encounter very different results with different block sizes (try with 1k, 4k, 1M, ... and appropriate count values).
        </p>
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        ioggstream
      </div>
      <div class='text'>
        <p>
          nice but.. to play the real game use <a href="http://www.iozone.org" rel="nofollow">www.iozone.org</a> or bonnie
        </p>
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        bwoodacre
      </div>
      <div class='text'>
        <p>
          What you're doing here is really testing *filesystem* performance rather than disk IO. For actual "disk IO", do what ioggstream said or use hdparm:
        </p><code>hdparm -t /dev/sda</code>
        <p>
          this will test drive throughput by actually streaming a write off the disk. Use the -T option to test how fast the cpu, memory, &amp; linux disk buffer cache can theoretically go.
        </p>
        <p>
          The underlying filesystem can
        </p>
      </div>
    </div>
  </body>
</html>
