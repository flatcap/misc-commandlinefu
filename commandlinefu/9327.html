<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Strict//EN'
    'http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en' lang='en'>
  <head>
    <link rel='stylesheet' href='style.css' type='text/css' />
    <title>
      command line fu
    </title>
  </head>
  <body>
    <div class='terminal'>
      <div class='author'>
        unixmonkey21861
      </div>
      <div class='summary'>
        using `!#$' to referance backward-word
      </div>
      <div class='command'>
        cp /work/host/phone/ui/main.cpp !#$:s/host/target
      </div>
      <div class='desc'>
        <p>
          expand to:
        </p>
        <p>
          cp /work/host/phone/ui/main.cpp /work/target/phone/ui/main.cpp
        </p>
        <p>
          !#
        </p>
        <p>
          The entire command line typed so far.
        </p>
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        flatcap
      </div>
      <div class='text'>
        <p>
          Wow, that's amazing.
        </p>
        <p>
          I'd suggest changing your description, though, from "entire command line" to "all the command line arguments" (because it doesn't include "cp").
        </p>
        <p>
          Your example could also be represented as:
        </p><code>cp /work/{host,target}/phone/ui/main.cpp</code>
        <p>
          ... but the search and replace makes it very interesting, very versatile.
        </p>
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        unixmonkey21861
      </div>
      <div class='text'>
        <p>
          it does include "cp"
        </p>
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        kaedenn
      </div>
      <div class='text'>
        <p>
          That's... wow.
        </p>
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        flatcap
      </div>
      <div class='text'>
        <p>
          Ah, sorry. My mistake.
        </p>
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        hellspawn
      </div>
      <div class='text'>
        <p>
          I didn't get this to work in ksh, but I did get it to work in bash.
        </p>
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        wipu
      </div>
      <div class='text'>
        <p>
          Yes! I just wondered if something like this exists while doing "mkdir -p long/path &amp;&amp; cd long/path"
        </p>
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        wipu
      </div>
      <div class='text'>
        <p>
          Btw, this trick is somewhat ruined by the fact that bash saves the command expanded in history. Is there any flag to store it as such?
        </p>
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        ivanalejandro0
      </div>
      <div class='text'>
        <p>
          to avoid "mkdir -p long/path &amp;&amp; cd long/path" you can do:
        </p><code>mkdir -p long/path</code>
        <p>
          and then do
        </p><code>cd [ALT]+. (that means pressing the 'alt' key and the '.' simultaneously, it expands to the last parameter used :D)</code>
      </div>
    </div>
  </body>
</html>
