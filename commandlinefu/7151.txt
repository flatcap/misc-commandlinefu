Monitor a file with tail with timestamps added

tail -f file | awk '{now=strftime("%F %T%z\t");sub(/^/, now);print}'

Alternatives

There are 3 alternatives - vote for the best!

Terminal - Alternatives
tail -f file | while read line; do echo -n $(date -u -Ins); echo -e
"\t$line"; done

This is useful when watching a log file that does not contain timestamps
itself.

If the file already has content when starting the command, the first lines
will have the "wrong" timestamp when the command was started and not when
the lines were originally written.

tail -f file | while read line; do printf "$(date -u '+%F
%T%z')\t$line\n"; done

....
2010-11-24 05:46:58+0000        ##########
2010-11-24 05:46:59+0000        #  EOF   #
2010-11-24 05:46:59+0000        ##########

Should be a bit more portable since echo -e/n and date's -Ins are not.

tail -f file |xargs -IX printf "$(date -u)\t%s\n" X

What others think

Nice, but you can make it much shorter:

tail -f file | awk '{sub(/^/,strftime("%F %T%z\t"));print}'

Yup, thanks.
