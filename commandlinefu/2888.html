<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Strict//EN'
    'http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en' lang='en'>
  <head>
    <link rel='stylesheet' href='style.css' type='text/css' />
    <title>
      command line fu
    </title>
  </head>
  <body>
    <div class='terminal'>
      <div class='author'>
        ricardoarguello
      </div>
      <div class='summary'>
        Release memory used by the Linux kernel on caches
      </div>
      <div class='command'>
        free &amp;&amp; sync &amp;&amp; echo 3 &gt; /proc/sys/vm/drop_caches &amp;&amp; free
      </div>
      <div class='sample'>
        <pre>
             total       used       free     shared    buffers     cached
Mem:       1018916     980832      38084          0      46924     355764
-/+ buffers/cache:     578144     440772
Swap:      2064376        128    2064248
             total       used       free     shared    buffers     cached
Mem:       1018916     685008     333908          0        224     108252
-/+ buffers/cache:     576532     442384
Swap:      2064376        128    2064248
</pre>
      </div>
      <div class='desc'>
        <p>
          The Linux kernel uses unused memory in caches. When you execute "free" you never get the "real" available memory.
        </p>
      </div>
    </div>
    <div class='terminal'>
      <div class='author'>
        KeePon
      </div>
      <div class='summary'>
        <a href="/commands/view/8614/clean-up-memory-of-unnecessary-things-kernerl-2.6.16-or-newer" title="Find out what others think of this command">clean up memory of unnecessary things (Kernerl 2.6.16 or newer)</a>
      </div>
      <div class='command'>
        sync &amp;&amp; echo 1 &gt; /proc/sys/vm/drop_caches
      </div>
      <div class='sample'>
        <pre>
free -t

before:
             total       used       free     shared    buffers     cached
Mem:       4041140    3101232     939908          0     496196    1551896

...

after:
             total       used       free     shared    buffers     cached
Mem:       4041140    1078048    2963092          0        900      54600
</pre>
      </div>
      <div class='desc'>
        <p>
          run sync first to flush useful things out to disk!!!
        </p>
        <p>
          To free pagecache:
        </p>
        <p>
          echo 1 &gt; /proc/sys/vm/drop_caches
        </p>
        <p>
          To free dentries and inodes:
        </p>
        <p>
          echo 2 &gt; /proc/sys/vm/drop_caches
        </p>
        <p>
          To free pagecache, dentries and inodes:
        </p>
        <p>
          echo 3 &gt; /proc/sys/vm/drop_caches
        </p>
      </div>
    </div>
    <div class='terminal'>
      <div class='author'>
        bandie91
      </div>
      <div class='summary'>
        <a href="/commands/view/5670/clean-up-memory-on-linux" title="Find out what others think of this command">clean up memory on linux</a>
      </div>
      <div class='command'>
        sync; echo 3 | sudo tee /proc/sys/vm/drop_caches
      </div>
      <div class='sample'>
        <pre>
3
</pre>
      </div>
      <div class='desc'>
        <p>
          where proc filesystem mounted under /proc
        </p>
      </div>
    </div>
    <div class='terminal'>
      <div class='author'>
        skygreg
      </div>
      <div class='summary'>
        <a href="/commands/view/1026/empty-the-linux-buffer-cache" title="Find out what others think of this command">Empty the linux buffer cache</a>
      </div>
      <div class='command'>
        sync &amp;&amp; echo 3 &gt; /proc/sys/vm/drop_caches
      </div>
    </div>
    <div class='terminal'>
      <div class='author'>
        lunarblu
      </div>
      <div class='summary'>
        <a href="/commands/view/3120/clear-the-cache-from-memory" title="Find out what others think of this command">clear the cache from memory</a>
      </div>
      <div class='command'>
        sync; echo 3 &gt; /proc/sys/vm/drop_caches
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        bwoodacre
      </div>
      <div class='text'>
        <p>
          Another way: add up the "MemFree", "Buffers", and "Cached" amounts in /proc/meminfo.
        </p>
      </div>
    </div>
    <div class='comment'>
      <div class='author'>
        linuxrawkstar
      </div>
      <div class='text'>
        <p>
          really saved my bacon today!
        </p>
      </div>
    </div>
  </body>
</html>
