<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Strict//EN'
    'http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en' lang='en'>
  <head>
    <link rel='stylesheet' href='style.css' type='text/css' />
    <title>
      command line fu
    </title>
  </head>
  <body>
    <div class='terminal'>
      <div class='author'>
        OJM
      </div>
      <div class='summary'>
        list all opened ports on host
      </div>
      <div class='command'>
        sudo lsof -P -i -n -sTCP:LISTEN
      </div>
    </div>
    <div class='terminal'>
      <div class='author'>
        DopeGhoti
      </div>
      <div class='summary'>
        <a href="/commands/view/9384/check-open-ports-both-ipv4-and-ipv6" title="Find out what others think of this command">check open ports (both ipv4 and ipv6)</a>
      </div>
      <div class='command'>
        netstat -plnt
      </div>
      <div class='sample'>
        <pre>
Active Internet connections (only servers)
Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name
tcp        0      0 0.0.0.0:8080            0.0.0.0:*               LISTEN      13443/apache2   
tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      801/sshd        
tcp6       0      0 :::25565                :::*                    LISTEN      1249/java       
tcp6       0      0 :::6667                 :::*                    LISTEN      12101/bitlbee   
tcp6       0      0 :::22                   :::*                    LISTEN      801/sshd        
</pre>
      </div>
      <div class='desc'>
        <p>
          While `lsof` will work, why not use the tool designed explicitly for this job?
        </p>
        <p>
          (If not run as root, you will only see the names of PID you own)
        </p>
      </div>
    </div>
    <div class='terminal'>
      <div class='author'>
        solarislackware
      </div>
      <div class='summary'>
        <a href="/commands/view/4316/list-all-opened-ports-on-host" title="Find out what others think of this command">list all opened ports on host</a>
      </div>
      <div class='command'>
        nmap -p 1-65535 --open localhost
      </div>
    </div>
    <div class='terminal'>
      <div class='author'>
        sputnick
      </div>
      <div class='summary'>
        <a href="/commands/view/4322/list-all-tcp-opened-ports-on-localhost-in-listen-mode" title="Find out what others think of this command">List all TCP opened ports on localhost in LISTEN mode</a>
      </div>
      <div class='command'>
        netstat -nptl
      </div>
      <div class='desc'>
        <p>
          Alternative of OJM snippet :
        </p>
        <p>
          This one show the IP too, where ports bind. It's very important, because if there's only 127.0.0.1 instead of 0.0.0.0, connections from internet are rejected.
        </p>
      </div>
    </div>
    <div class='terminal'>
      <div class='author'>
        glaudiston
      </div>
      <div class='summary'>
        <a href="/commands/view/4296/list-all-opened-ports-on-host" title="Find out what others think of this command">list all opened ports on host</a>
      </div>
      <div class='command'>
        time { i=0; while [ $(( i &lt; 65535 )) -eq 1 ] ; do nc -zw2 localhost $((++i)) &amp;&amp; echo port $i opened ; done; }
      </div>
      <div class='sample'>
        <pre>
port 22 opened
port 80 opened
port 631 opened
port 3306 opened
port 3690 opened
port 6665 opened
port 6666 opened
port 6667 opened
port 6668 opened
port 6669 opened
port 7048 opened
port 8079 opened
port 8280 opened
port 8885 opened
port 8888 opened
port 9127 opened
port 23791 opened
port 23943 opened
port 33556 opened
port 34482 opened
port 39447 opened
port 48030 opened
port 51687 opened

real    4m33.201s
user    1m16.657s
sys     2m42.194s
</pre>
      </div>
      <div class='desc'>
        <p>
          in loop, until the last port (65535), list all opened ports on host.
        </p>
        <p>
          in the sample I used localhost, but you can replace with any host to test.
        </p>
      </div>
    </div>
  </body>
</html>
