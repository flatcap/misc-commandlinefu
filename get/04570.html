<html>
        <head>
                <title>
                        Remove everything except that file
                </title>
                <link rel='stylesheet' href='style.css' type='text/css' />
        </head>
        <body>
                <div id="terminal-header">
                        <h1>
                                Remove everything except that file
                        </h1>
                </div>
                <div class="terminal-display one-liner" id="terminal-display-main">
                        <div class="line command">
                                ( shopt -s extglob; rm !(<span>&lt;PATTERN&gt;</span>) )
                        </div>
                        <div class="details description">
                                <p>
                                        Remove everything except that file with shell tricks inside a subshell to avoid changes in the environment.
                                </p><code>help shopt</code>
                        </div>
                </div>
                <h3>
                        Alternatives
                </h3>
                <div class="terminal-display">
                        <div class="one-liner">
                                <div class="line command">
                                        rm !(*.foo|*.bar|*.baz)
                                </div>
                                <div class="sample-output c5 output">
                                        <pre>
Example: rm !(*.tex|*.pdf) deletes all except the tex and pdf files.
</pre>
                                </div>
                                <div class="details description">
                                        <p>
                                                Deletes all files in a folder that are NOT *.foo, *.bar or *.baz files. Edit the pattern inside the brackets as you like.
                                        </p>
                                </div>
                        </div>
                        <div class="one-liner">
                                <div class="line command">
                                        rm -f !(survivior.txt)
                                </div>
                                <div class="details"></div>
                        </div>
                        <div class="one-liner">
                                <div class="line command">
                                        find . ! -name <span>&lt;FILENAME&gt;</span> -delete
                                </div>
                                <div class="details description">
                                        <p>
                                                it will remove everything except the file names matching you can use also use wildcards
                                        </p>
                                </div>
                        </div>
                        <div class="one-liner">
                                <div class="line command">
                                        rm !(file_to_keep_undeleted)
                                </div>
                                <div class="details description">
                                        <p>
                                                Go to tmp :
                                        </p>
                                        <p>
                                                cd /tmp; mkdir retmp; cd retmp
                                        </p>
                                        <p>
                                                Create 10 files :
                                        </p>
                                        <p>
                                                for i in {1..10}; do touch test$i; done
                                        </p>
                                        <p>
                                                Remove all files except test10 :
                                        </p>
                                        <p>
                                                rm !(test10)
                                        </p>
                                </div>
                        </div>
                        <div class="one-liner">
                                <div class="line command">
                                        find . -type f ! -name "*.foo" -name "*.bar" -delete
                                </div>
                                <div class="sample-output c5 output">
                                        <pre>
enki 13:09:08 /tmp/foo/bar $ find . ! -name "*.xml" ! -name "*.js" -type f -delete
enki 13:12:23 /tmp/foo/bar $
</pre>
                                </div>
                                <div class="details description">
                                        <p>
                                                This command is recursive and will delete in all directories in ".". It will find and delete all files not specified with ! -name "pattern". In this case it's file extensions. -type f means it will only find files and not directories. Finally the -delete flag ask find to delete what it matches. You can test the command by running it first without delete and it will list the files it will delete when you run it.
                                        </p>
                                </div>
                        </div>
                </div>
        </body>
</html>
