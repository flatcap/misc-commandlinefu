<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title></title>

  </head>
  <body>
    <div id="wrapper">
      <div id="left-block">
        <div id="terminal-header">
          <h1>
                                                Display the number of connections to a MySQL Database
                                        </h1>
        </div>
        <div class="terminal-display" id="terminal-display-main">
          <div class="one-liner">
            <div class="line command" title="Click to select this command">
                                                        mysql -u root -p -BNe "select host,count(host) from processlist group by host;" information_schema
                                                </div>
            <div class="sample-output c5" id="sample-output-9938">
              <div class="output">
                <pre>
localhost             12
apple.example.com     34
banana.example.com     6
</pre>
              </div>
            </div>
            <div class="details">
              <div class="summary">
                                                                Display the number of connections to a MySQL Database
                                                        </div>
              <div class="description">
                <p>
                                                                        Count the number of active connections to a MySQL database.
                                                                </p>
                <p>
                                                                        The MySQL command "show processlist" gives a list of all the active clients.
                                                                </p>
                <p>
                                                                        However, by using the processlist table, in the information_schema database, we can sort and count the results within MySQL.
                                                                </p>
              </div>
            </div>
          </div>
        </div>
        <h3>
                                        Alternatives
                                </h3>
        <p class="c8"></p>
        <div class="terminal-display">
          <div class="one-liner">
            <div class="line command" title="Click to select this command">
                                                        mysql -NBe 'show global status like "Threads_connected";' | cut -f2
                                                </div>
            <div class="sample-output c5" id="sample-output-10008">
              <div class="output"></div>
            </div>
            <div class="details">
              <div class="summary">
                <a href="/commands/view/10008/calculating-number-of-connection-to-mysql" title="Find out what others think of this command">Calculating number of Connection to MySQL</a>
              </div>
              <div class="description"></div>
            </div>
          </div>
          <div class="one-liner">
            <div class="line command" title="Click to select this command">
                                                        mysql -u root -p -e"show processlist;"|awk '{print $3}'|awk -F":" '{print $1}'|sort|uniq -c
                                                </div>
            <div class="sample-output c5" id="sample-output-9936">
              <div class="output">
                <pre>
4 host03.xyz.com
7 host09.xyz.com
1 localhost
3 host12.xyz.com
</pre>
              </div>
            </div>
            <div class="details">
              <div class="summary">
                <a href="/commands/view/9936/calculating-number-of-connection-to-mysql" title="Find out what others think of this command">Calculating number of Connection to MySQL</a>
              </div>
              <div class="description">
                <p>
                                                                        This command will help you to find how many number of connection are made to given mysql and what are the different hosts connected to it with number of connection they are making.
                                                                </p>
              </div>
            </div>
          </div>
          <div class="one-liner">
            <div class="line command" title="Click to select this command">
                                                        mysql -u root -p -N -e"show processlist\G;" | egrep "Host\:" | awk -F: '{ print $2 }' | sort | uniq -c
                                                </div>
            <div class="sample-output c5" id="sample-output-9937">
              <div class="output"></div>
            </div>
            <div class="details">
              <div class="summary">
                <a href="/commands/view/9937/calculating-number-of-connection-to-mysql" title="Find out what others think of this command">Calculating number of Connection to MySQL</a>
              </div>
              <div class="description"></div>
            </div>
          </div>
          <div class="pagination"></div>
        </div>

        <p>
                                        If you can do better, <a href="/commands/edit/0/9938">submit your command</a> here.
                                </p>
      </div>
    </div>
  </body>
</html>
