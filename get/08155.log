http://www.commandlinefu.com/commands/view/08155
http://www.commandlinefu.com/commands/view/8155/function-to-edit-your-history-file
