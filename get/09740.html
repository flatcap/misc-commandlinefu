<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
        <head>
                <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
                <title></title>
        </head>
        <body>
                <div id="wrapper">
                        <div id="left-block">
                                <div id="terminal-header">
                                        <h1>
                                                Show bandwidth use oneliner
                                        </h1>
                                </div>
                                <div class="terminal-display one-liner" id="terminal-display-main">
                                        <div class="line command">
                                                while true; do cat /proc/net/dev; sleep 1; done | awk -v dc="date \"+%T\"" '/eth0/{i = $2 - oi; o = $10 - oo; oi = $2; oo = $10; dc|getline d; close(dc); if (a++) printf "%s %8.2f KiB/s in %8.2f KiB/s out\n", d, i/1024, o/1024}'
                                        </div>
                                        <div class="sample-output c5 output">
                                                <pre>
02:18:43     1.71 KiB/s in     0.11 KiB/s out
02:18:44     0.75 KiB/s in     0.25 KiB/s out
02:18:45     0.47 KiB/s in     0.20 KiB/s out
02:18:46     0.59 KiB/s in     0.15 KiB/s out
02:18:47     1.12 KiB/s in     1.37 KiB/s out
02:18:48     0.65 KiB/s in     0.21 KiB/s out
02:18:49     0.50 KiB/s in     0.31 KiB/s out
02:18:50     1.28 KiB/s in     0.37 KiB/s out
02:18:51     0.50 KiB/s in     0.05 KiB/s out
02:18:52     2.26 KiB/s in     0.10 KiB/s out
</pre>
                                        </div>
                                        <div class="details">
                                                <div class="summary">
                                                        Show bandwidth use oneliner
                                                </div>
                                                <div class="description">
                                                        <p>
                                                                poorman's ifstat using just sh and awk. You must change "eth0" with your interface's name.
                                                        </p>
                                                </div>
                                        </div>
                                </div>
                                <h3>
                                        Alternatives
                                </h3>
                                <div class="terminal-display"></div>
                                <h3>
                                        What others think
                                </h3>
                                <div id="comments">
                                        <div class="comment comment0 body">
                                                <p>
                                                        I would use \r not \n so that it's just one, constantly updating line.
                                                </p>
                                        </div>
                                        <div class="comment comment1 body">
                                                <p>
                                                        Great idea!, But you lose the historical...
                                                </p>
                                        </div>
                                        <div class="comment comment0 body">
                                                <p>
                                                        Nice. I'd just change 'Kb' to 'KB' (or 'KiB' for the purists), since the numbers are in bytes.
                                                </p>
                                        </div>
                                        <div class="comment comment1 body">
                                                <p>
                                                        @flatcap you're right, fixed.
                                                </p>
                                        </div>
                                        <div class="comment comment0 body">
                                                <p>
                                                        thank you
                                                </p>
                                        </div>
                                </div>
                        </div>
                </div>
        </body>
</html>
